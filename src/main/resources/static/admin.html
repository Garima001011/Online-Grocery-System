<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Admin - Local Grocery</title>
    <link rel="stylesheet" href="/css/style.css?v=6">
</head>
<body>
<div class="container">
    <div class="topbar">
        <div class="brand">
            <div class="logo"></div>
            <div>
                <h1 class="brandTitle">Admin Dashboard</h1>
                <div class="subTitle">Manage stores, categories, products</div>
            </div>
        </div>

        <div class="rowFlex">
            <div class="pill" id="who"></div>
            <button class="secondary" onclick="logout()">Logout</button>
        </div>
    </div>

    <div class="grid">
        <!-- LEFT: Quick Add -->
        <div class="card">
            <div class="cardHeader">
                <div>
                    <h2>Quick Add</h2>
                    <div class="muted">Standard admin actions</div>
                </div>
            </div>
            <div class="accentBar"></div>

            <hr>

            <h2>Add Store</h2>
            <div class="row" style="grid-template-columns: 1fr 1fr auto; margin-top:10px;">
                <input id="storeName" placeholder="Store name (e.g., Bhatbhateni Itahari)">
                <input id="storeLocation" placeholder="Location (e.g., Itahari-6, Sathi Petrol Pump)">
                <button onclick="addStore()">Add</button>
            </div>

            <hr>

            <h2>Add Category</h2>
            <div class="row" style="grid-template-columns: 1fr auto; margin-top:10px;">
                <input id="catName" placeholder="Category name">
                <button onclick="addCategory()">Add</button>
            </div>

            <hr>

            <h2>Add Product</h2>
            <div class="row" style="margin-top:10px;">
                <input id="pName" placeholder="Product name (e.g., Masoor Daal 1kg)">
                <input id="pPrice" type="number" placeholder="Price (Rs.)">
                <input id="pStock" type="number" placeholder="Stock">
                <select id="pStore"></select>
                <select id="pCategory"></select>
                <button onclick="addProduct()">Add</button>
            </div>

            <div class="muted" style="margin-top:10px;">
                Note: Products are linked to exactly one store (realistic local delivery).
            </div>
        </div>

        <!-- RIGHT: Overview -->
        <div class="card" id="overviewCard">
            <div class="cardHeader">
                <div>
                    <h2>Overview</h2>
                    <div class="muted">Live counts from database</div>
                </div>
            </div>
            <div class="accentBar"></div>

            <div class="overviewBody">
                <div style="margin-top:12px;" class="kpi">
                    <div class="box">
                        <div class="val" id="kStores">0</div>
                        <div class="lbl">Stores</div>
                    </div>
                    <div class="box">
                        <div class="val" id="kCats">0</div>
                        <div class="lbl">Categories</div>
                    </div>
                    <div class="box">
                        <div class="val" id="kProducts">0</div>
                        <div class="lbl">Products</div>
                    </div>
                </div>

                <hr>

                <h2>Stores</h2>
                <div class="list scrollArea" id="storeList"></div>

                <hr>

                <h2>Products</h2>
                <div class="row" style="grid-template-columns: 1fr auto; margin-top:10px;">
                    <input id="search" placeholder="Search products...">
                    <button class="secondary" onclick="refresh()">Search</button>
                </div>
                <div class="list scrollArea" id="productList"></div>
            </div>
        </div>
    </div>
</div>

<script src="/js/admin.js?v=6"></script>
</body>
</html>